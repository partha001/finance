<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>

    <link rel="stylesheet" th:href="@{/css/wmstyles.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}"/>
    <script type="text/javascript" th:src="@{/webjars/jquery/jquery.min.js}"></script>
    <script type="text/javascript" th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>

    <link rel="stylesheet" type="text/css" th:href="@{/webjars/datatables/css/dataTables.bootstrap.min.css}"/>
    <script type="text/javascript" th:src="@{/webjars/datatables/js/dataTables.min.js}"></script>
    <title>Bootstrap Example</title>


</head>

<body>
<div class="container  container-fluid">

    <div class="row">
        <div class="col-lg-12">
            <div th:replace="~{fragments/header :: header}"></div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <div th:replace="~{fragments/navbar :: mynavbar}"></div>
        </div>
    </div>

    <div class="row col-lg-12 body-style">
        <div class="row">
            <div class="col-lg-12 mt-16 mb-6">
                <h3>Import Holdings</h3>
                <div class="container" style="max-width: 500px">
                    <h3 class="mb-3">Thymeleaf File Upload example</h3>

                    <form
                            id="uploadForm"
                            method="post"
                            th:action="@{/holdings/import}"
                            enctype="multipart/form-data">
                        <input id="input-file" type="file" name="file" />
                        <button class="btn btn-sm btn-outline-success float-right" type="submit">
                            Upload
                        </button>
                    </form>

                    <div
                            th:if="${message != null}"
                            class="alert alert-secondary alert-dismissible fade show text-center message mt-3"
                            role="alert">
                        [[${message}]]
                        <button type="button" class="close btn-sm" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">Ã—</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="row  justify-content-center">
        <div class="col-lg-12">
            <div th:replace="~{fragments/footer :: footer}"></div>
        </div>
    </div>


    <script>

        $('#dividendTable').DataTable({
            "processing": true,
            "serverSide": false,
            "ajax": {
                "url": "/dividendDetails",
                "type": "POST",
                "dataType": "json",
                "contentType": "application/json",
                "data": function (d) {
                    return JSON.stringify(d);
                }
            },
            "columns": [
                {"data":"dividendYear", "width": "10%"},
                {"data": "quarter","width": "10%"},
                {"data": "symbol", "width": "20%"},
                {"data": "name", "width": "50%"},
                {"data": "amount", "width": "10%"}
            ]
        });

    </script>
</div>
</body>
</html>